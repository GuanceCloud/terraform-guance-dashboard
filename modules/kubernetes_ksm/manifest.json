{
  "dashboardBindSet": [],
  "dashboardExtend": {},
  "dashboardMapping": [],
  "dashboardOwnerType": "node",
  "dashboardType": "CUSTOM",
  "iconSet": {
    "icon": "https://static-res.guance.com/dataflux-template/dashboard/kubernetes_ksm/icon.svg",
    "url": "https://static-res.guance.com/dataflux-template/dashboard/kubernetes_ksm/kubernetes_ksm.png"
  },
  "main": {
    "charts": [
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": true,
            "levels": [
              {
                "bgColor": "#32DEF6",
                "fontColor": "",
                "lineColor": "",
                "operation": "<=",
                "value": [
                  "10"
                ]
              },
              {
                "bgColor": "#FFDA43",
                "fontColor": "",
                "lineColor": "",
                "operation": ">",
                "value": [
                  "10"
                ]
              }
            ],
            "lineColor": "rgba(73,139,254,1)",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Deployments",
        "pos": {
          "h": 5,
          "w": 4,
          "x": 0,
          "y": 30
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "disabled": false,
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "container 数量",
              "code": "A",
              "dataSource": "kubernetes",
              "field": "deployment",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`kubernetes`:(AVG(`deployment`) AS `container 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' }  BY `namespace`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": true,
            "levels": [
              {
                "bgColor": "#32DEF6",
                "fontColor": "",
                "lineColor": "",
                "operation": "<=",
                "value": [
                  "10"
                ]
              },
              {
                "bgColor": "#FFDA43",
                "fontColor": "",
                "lineColor": "",
                "operation": ">",
                "value": [
                  "10"
                ]
              }
            ],
            "lineColor": "rgba(73,139,254,1)",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "ReplicaSets",
        "pos": {
          "h": 5,
          "w": 4,
          "x": 8,
          "y": 30
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "disabled": false,
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "container 数量",
              "code": "A",
              "dataSource": "kubernetes",
              "field": "replica_set",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`kubernetes`:(AVG(`replica_set`) AS `container 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' }  BY `namespace`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "links": [
            {
              "alias": "k8s",
              "open": "curWin",
              "type": "custom",
              "url": "https://console.guance.com/scene/dashboard/dashboardDetail?dashboard_id=dsbd_6e1d96209773417bbede77f2bb04e1af&name=kubernetes_namespace&time=#{TR}&tags=#{T}&variable={\"cluster_name\"=\"#{V.cluster_name}\"}"
            }
          ],
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "rgba(73,139,254,1)",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Nodes",
        "pos": {
          "h": 12,
          "w": 6,
          "x": 0,
          "y": 0
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "disabled": false,
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "container 数量",
              "code": "A",
              "dataSource": "kubernetes_nodes",
              "field": "node_ip",
              "fieldFunc": "count",
              "fieldType": "keyword",
              "fill": "",
              "fillNum": null,
              "filters": [
                {
                  "id": "3c9c4a20-b7b2-11ec-b86a-b34a92701108",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "keyword",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [],
              "groupByTime": "",
              "namespace": "object",
              "q": "O::`kubernetes_nodes`:(COUNT(`node_ip`) AS `container 数量`) { `cluster_name_k8s` = '#{cluster_name}' }",
              "queryFuncs": [],
              "type": "simple"
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": true,
            "levels": [
              {
                "bgColor": "#32DEF6",
                "fontColor": "",
                "lineColor": "",
                "operation": "<=",
                "value": [
                  "10"
                ]
              },
              {
                "bgColor": "#FFDA43",
                "fontColor": "",
                "lineColor": "",
                "operation": ">",
                "value": [
                  "10"
                ]
              }
            ],
            "lineColor": "rgba(73,139,254,1)",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods",
        "pos": {
          "h": 5,
          "w": 4,
          "x": 0,
          "y": 25
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "disabled": false,
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "container 数量",
              "code": "A",
              "dataSource": "kubernetes",
              "field": "pod",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`kubernetes`:(AVG(`pod`) AS `container 数量`) { `cluster_name_k8s` = '#{cluster_name}'  and `namespace` = '#{namespace}' } BY `namespace`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": true,
            "levels": [
              {
                "bgColor": "#32DEF6",
                "fontColor": "",
                "lineColor": "",
                "operation": "<=",
                "value": [
                  "10"
                ]
              },
              {
                "bgColor": "#FFDA43",
                "fontColor": "",
                "lineColor": "",
                "operation": ">",
                "value": [
                  "10"
                ]
              }
            ],
            "lineColor": "rgba(73,139,254,1)",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Services",
        "pos": {
          "h": 5,
          "w": 4,
          "x": 4,
          "y": 30
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "disabled": false,
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "container 数量",
              "code": "A",
              "dataSource": "kubernetes",
              "field": "service",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`kubernetes`:(AVG(`service`) AS `container 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' }  BY `namespace`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [
              {
                "bgColor": "#32DEF6",
                "fontColor": "",
                "lineColor": "",
                "operation": "<=",
                "value": [
                  "10"
                ]
              },
              {
                "bgColor": "#FFDA43",
                "fontColor": "",
                "lineColor": "",
                "operation": ">",
                "value": [
                  "10"
                ]
              }
            ],
            "lineColor": "rgba(58,184,255,1)",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "CronJobs",
        "pos": {
          "h": 5,
          "w": 4,
          "x": 8,
          "y": 25
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "disabled": false,
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "container 数量",
              "code": "A",
              "dataSource": "kubernetes",
              "field": "cronjob",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`kubernetes`:(AVG(`cronjob`) AS `container 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' }  BY `namespace`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [
              {
                "bgColor": "#32DEF6",
                "fontColor": "",
                "lineColor": "",
                "operation": "<=",
                "value": [
                  "10"
                ]
              },
              {
                "bgColor": "#FFDA43",
                "fontColor": "",
                "lineColor": "",
                "operation": ">",
                "value": [
                  "10"
                ]
              }
            ],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Jobs",
        "pos": {
          "h": 5,
          "w": 4,
          "x": 4,
          "y": 25
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "code": "A",
              "dataSource": "kubernetes",
              "field": "job",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`kubernetes`:(AVG(`job`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' }  BY `namespace`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": false,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "当前pod数",
                "name": "当前pod数",
                "unit": "个 pod",
                "units": [
                  "custom",
                  "个 pod"
                ]
              }
            ],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": "集群基础设施"
        },
        "name": "集群CPU 负载",
        "pos": {
          "h": 18,
          "w": 12,
          "x": 0,
          "y": 85.5
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "15分钟负载",
              "code": "A",
              "dataSource": "system",
              "field": "load15_per_core",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "2db8b3d0-ba42-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`system`:(AVG(`load15_per_core`) AS `15分钟负载`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "line",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": false,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": "集群基础设施"
        },
        "name": "集群内存趋势",
        "pos": {
          "h": 18,
          "w": 12,
          "x": 0,
          "y": 103.5
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "总内存",
              "code": "A",
              "dataSource": "mem",
              "field": "total",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "b53092b0-ba42-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`mem`:(AVG(`total`) AS `总内存`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "已使用内存",
              "code": "C",
              "dataSource": "mem",
              "field": "used",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "b53092b0-ba42-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`mem`:(AVG(`used`) AS `已使用内存`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "剩余内存",
              "code": "D",
              "dataSource": "mem",
              "field": "free",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "b53092b0-ba42-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`mem`:(AVG(`free`) AS `剩余内存`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "缓冲",
              "code": "E",
              "dataSource": "mem",
              "field": "cached",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "b53092b0-ba42-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`mem`:(AVG(`cached`) AS `缓冲`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "缓存",
              "code": "B",
              "dataSource": "mem",
              "field": "buffered",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "b53092b0-ba42-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`mem`:(AVG(`buffered`) AS `缓存`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": false,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "当前pod数",
                "name": "当前pod数",
                "unit": "个 pod",
                "units": [
                  "custom",
                  "个 pod"
                ]
              }
            ],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": "集群基础设施"
        },
        "name": "集群磁盘空间趋势",
        "pos": {
          "h": 18,
          "w": 12,
          "x": 12,
          "y": 103.5
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "总磁盘空间",
              "code": "A",
              "dataSource": "disk",
              "field": "total",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "ed435c80-ba44-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "device",
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`disk`:(AVG(`total`) AS `总磁盘空间`) { `cluster_name_k8s` = '#{cluster_name}' } BY `device`, `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "已使用磁盘空间",
              "code": "B",
              "dataSource": "disk",
              "field": "used",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "ed435c80-ba44-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "device",
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`disk`:(AVG(`used`) AS `已使用磁盘空间`) { `cluster_name_k8s` = '#{cluster_name}' } BY `device`, `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "剩余磁盘空间",
              "code": "C",
              "dataSource": "disk",
              "field": "free",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "ed435c80-ba44-11ec-b8e2-0b8460df717c",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "device",
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`disk`:(AVG(`free`) AS `剩余磁盘空间`) { `cluster_name_k8s` = '#{cluster_name}' } BY `device`, `host`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedTime": "",
          "links": [],
          "settings": {
            "colorLevel": 3,
            "colors": [],
            "currentChartType": "treemap",
            "fixedTime": "",
            "isTimeInterval": false,
            "levelArr": [],
            "levels": [],
            "mainMeasurementLimit": 50,
            "mainMeasurementQueryCode": "B",
            "mainMeasurementSort": "top",
            "rangeColor": "",
            "rangeColorKey": "light-blue",
            "showFieldMapping": false,
            "showLegend": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "当前空间pod数",
                "name": "当前空间pod数",
                "unit": "个 pod",
                "units": [
                  "custom",
                  "个 pod"
                ]
              }
            ]
          }
        },
        "group": {
          "name": null
        },
        "name": "集群空间pod分布",
        "pos": {
          "h": 34,
          "w": 12,
          "x": 12,
          "y": 0
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "",
              "children": [],
              "code": "B",
              "expression": "",
              "funcList": [],
              "q": "",
              "type": "expression"
            },
            "type": "treemap",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "当前空间pod数",
              "code": "A",
              "dataSource": "kubernetes",
              "field": "pod",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "filters": [
                {
                  "id": "0ed55150-ba4a-11ec-b29c-6b7bede1c9e9",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "04573730-c1ec-11ec-b85a-35a0f9047c7f",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "namespace"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`kubernetes`:(AVG(`pod`) AS `当前空间pod数`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `namespace`",
              "queryFuncs": [],
              "type": "simple"
            },
            "type": "treemap",
            "unit": ""
          }
        ],
        "type": "treemap"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": false,
          "settings": {
            "alias": [],
            "colorLevel": 3,
            "colors": [],
            "currentChartType": "hexgon",
            "fixedTime": "",
            "isTimeInterval": false,
            "levelArr": [
              {
                "color": "#B9E8FE",
                "max": 2,
                "min": 1
              },
              {
                "color": "#68C0FF",
                "max": 4,
                "min": 2
              },
              {
                "color": "#1990FF",
                "max": 8,
                "min": 4
              },
              {
                "color": "#0050B4",
                "max": 16,
                "min": 8
              },
              {
                "color": "#002766",
                "min": 16
              }
            ],
            "levels": [],
            "mainMeasurementQueryCode": "A",
            "rangeColor": "",
            "rangeColorKey": "light-blue",
            "showFieldMapping": false,
            "showLegend": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "cpu核数",
                "name": "cpu核数",
                "unit": "核",
                "units": [
                  "custom",
                  "核"
                ]
              }
            ]
          }
        },
        "group": {
          "name": null
        },
        "name": "集群Node CPU资源分布",
        "pos": {
          "h": 13,
          "w": 6,
          "x": 0,
          "y": 12
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "cpu核数",
              "code": "A",
              "dataSource": "system",
              "field": "n_cpus",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "!=",
                  "value": {}
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "host"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`system`:(AVG(`n_cpus`) AS `cpu核数`) { `cluster_name_k8s` = '#{cluster_name}' and `cluster_name_k8s` != '' } BY `host`",
              "queryFuncs": [],
              "type": "dql",
              "withLabels": []
            },
            "type": "hexgon",
            "unit": ""
          }
        ],
        "type": "hexgon"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "colorLevel": 3,
            "colors": [],
            "currentChartType": "hexgon",
            "fixedTime": "",
            "isTimeInterval": false,
            "levelArr": [
              {
                "color": "#EFDBFF",
                "max": 99,
                "min": 0
              },
              {
                "color": "#B37FEB",
                "max": 199,
                "min": 100
              },
              {
                "color": "#732ED1",
                "max": 299,
                "min": 200
              },
              {
                "color": "#391185",
                "max": 399,
                "min": 300
              },
              {
                "color": "#120337",
                "min": 400
              }
            ],
            "levels": [],
            "mainMeasurementQueryCode": "A",
            "rangeColor": "",
            "rangeColorKey": "dark-purple",
            "showFieldMapping": false,
            "showLegend": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "Running Pod",
                "name": "Running Pod",
                "unit": "个 pod",
                "units": [
                  "custom",
                  "个 pod"
                ]
              }
            ]
          }
        },
        "group": {
          "name": null
        },
        "name": "集群Node Running Pod分布",
        "pos": {
          "h": 13,
          "w": 6,
          "x": 6,
          "y": 12
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "Running Pod",
              "code": "A",
              "dataSource": "kubelet_pod",
              "field": "pod_name",
              "fieldFunc": "count",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "!=",
                  "value": {}
                },
                {
                  "logic": "and",
                  "name": "status",
                  "op": "=",
                  "value": "Running"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "node_name"
              ],
              "groupByTime": "",
              "namespace": "object",
              "q": "O::`kubelet_pod`:(COUNT(`pod_name`) AS `Running Pod`) { `cluster_name_k8s` = '#{cluster_name}' and `cluster_name_k8s` != '' and `status` = 'Running' } BY `node_name`",
              "queryFuncs": [],
              "type": "dql",
              "withLabels": []
            },
            "type": "hexgon",
            "unit": ""
          }
        ],
        "type": "hexgon"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": false,
          "settings": {
            "alias": [],
            "colorLevel": 3,
            "colors": [],
            "currentChartType": "hexgon",
            "fixedTime": "",
            "isTimeInterval": false,
            "levelArr": [
              {
                "color": "#FFCCC6",
                "max": 99,
                "min": 0
              },
              {
                "color": "#FF7874",
                "max": 199,
                "min": 100
              },
              {
                "color": "#F5212D",
                "max": 299,
                "min": 200
              },
              {
                "color": "#A8071A",
                "max": 399,
                "min": 300
              },
              {
                "color": "#5C0011",
                "min": 400
              }
            ],
            "levels": [],
            "mainMeasurementQueryCode": "A",
            "rangeColor": "",
            "rangeColorKey": "light-red",
            "showFieldMapping": false,
            "showLegend": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "Failed Pod",
                "name": "Failed Pod",
                "unit": "个 pod",
                "units": [
                  "custom",
                  "个 pod"
                ]
              }
            ]
          }
        },
        "group": {
          "name": null
        },
        "name": "集群Node Failed Pod分布",
        "pos": {
          "h": 12,
          "w": 6,
          "x": 6,
          "y": 0
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "Failed Pod",
              "code": "A",
              "dataSource": "kubelet_pod",
              "field": "pod_name",
              "fieldFunc": "count",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "!=",
                  "value": {}
                },
                {
                  "logic": "and",
                  "name": "status",
                  "op": "=",
                  "value": "Failed"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "node_name"
              ],
              "groupByTime": "",
              "namespace": "object",
              "q": "O::`kubelet_pod`:(COUNT(`pod_name`) AS `Failed Pod`) { `cluster_name_k8s` = '#{cluster_name}' and `cluster_name_k8s` != '' and `status` = 'Failed' } BY `node_name`",
              "queryFuncs": [],
              "type": "dql",
              "withLabels": []
            },
            "type": "hexgon",
            "unit": ""
          }
        ],
        "type": "hexgon"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": false,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [
              {
                "key": "当前pod数",
                "name": "当前pod数",
                "unit": "个 pod",
                "units": [
                  "custom",
                  "个 pod"
                ]
              }
            ],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": "集群基础设施"
        },
        "name": "集群网络流量",
        "pos": {
          "h": 18,
          "w": 12,
          "x": 12,
          "y": 85.5
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "出流量",
              "code": "A",
              "dataSource": "net",
              "field": "bytes_sent",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "filters": [
                {
                  "id": "dac34c40-ba68-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host",
                "interface"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "NON_NEGATIVE_DERIVATIVE(\"M::`net`:(AVG(`bytes_sent`) AS `出流量`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`, `interface`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "non_negative_derivative"
                }
              ],
              "type": "simple"
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "入流量",
              "code": "B",
              "dataSource": "net",
              "field": "bytes_recv",
              "fieldFunc": "avg",
              "fieldType": "integer",
              "fill": null,
              "filters": [
                {
                  "id": "dac34c40-ba68-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "host",
                "interface"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "NON_NEGATIVE_DERIVATIVE(\"M::`net`:(AVG(`bytes_recv`) AS `入流量`) { `cluster_name_k8s` = '#{cluster_name}' } BY `host`, `interface`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "non_negative_derivative"
                }
              ],
              "type": "simple"
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Desired",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 0,
          "y": 39
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "Desired 数量",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_daemonset_status_desired_number_scheduled",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "daemonset"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_daemonset_status_desired_number_scheduled`) AS `Desired 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `daemonset`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "settings": {
            "colors": [],
            "fixedTime": "",
            "isTimeInterval": false,
            "levels": [],
            "showFieldMapping": false,
            "showTitle": false,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "新建图表",
        "pos": {
          "h": 4,
          "w": 12,
          "x": 0,
          "y": 35
        },
        "queries": [
          {
            "name": "",
            "query": {
              "content": "> **DaemonSets**"
            }
          }
        ],
        "type": "text"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods desired",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 4,
          "y": 39
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "kube_daemonset",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_daemonset_status_desired_number_scheduled",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "filters": [
                {
                  "id": "453a4900-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "4c3abc30-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "daemonset"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(AVG(`kube_daemonset_status_desired_number_scheduled`) AS `kube_daemonset`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `daemonset`",
              "queryFuncs": [],
              "type": "simple"
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Ready",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 0,
          "y": 49
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "Desired 数量",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_daemonset_status_number_ready",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "b05d0b00-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "b05d0b01-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "daemonset"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_daemonset_status_number_ready`) AS `Desired 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `daemonset`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "simple",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods ready",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 4,
          "y": 49
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "kube_daemonset",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_daemonset_status_number_ready",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "filters": [
                {
                  "id": "453a4900-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "4c3abc30-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "daemonset"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(AVG(`kube_daemonset_status_number_ready`) AS `kube_daemonset`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `daemonset`",
              "queryFuncs": [],
              "type": "simple"
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "settings": {
            "colors": [],
            "fixedTime": "",
            "isTimeInterval": false,
            "levels": [],
            "showFieldMapping": false,
            "showTitle": false,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "新建图表",
        "pos": {
          "h": 4,
          "w": 12,
          "x": 0,
          "y": 59
        },
        "queries": [
          {
            "name": "",
            "query": {
              "content": "> **ReplicaSets**"
            }
          }
        ],
        "type": "text"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "已就绪（Ready）",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 0,
          "y": 63
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "副本 数量",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_replicaset_status_ready_replicas",
              "fieldFunc": "avg",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "replicaset"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_replicaset_status_ready_replicas`) AS `副本 数量`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "已就绪（Ready）",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 4,
          "y": 63
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "kube_replica_set",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_replicaset_status_ready_replicas",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "filters": [
                {
                  "id": "453a4900-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "type": "",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "4c3abc30-bad9-11ec-8d6b-6bcf47c6d3d5",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "replicaset"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(AVG(`kube_replicaset_status_ready_replicas`) AS `kube_replica_set`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`",
              "queryFuncs": [],
              "type": "simple"
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "未就绪（Not ready）",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 0,
          "y": 73
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "副本 数量",
              "children": [
                {
                  "alias": "",
                  "code": "A",
                  "dataSource": "prom_state_metrics",
                  "field": "kube_replicaset_status_ready_replicas",
                  "fieldFunc": "avg",
                  "fieldType": "",
                  "fill": null,
                  "fillNum": null,
                  "filters": [
                    {
                      "id": "7b5a92d0-baf5-11ec-bd78-199fb50097dc",
                      "logic": "and",
                      "name": "cluster_name_k8s",
                      "op": "=",
                      "value": "#{cluster_name}"
                    },
                    {
                      "id": "7b5a92d1-baf5-11ec-bd78-199fb50097dc",
                      "logic": "and",
                      "name": "namespace",
                      "op": "=",
                      "value": "#{namespace}"
                    }
                  ],
                  "groupBy": [
                    "replicaset"
                  ],
                  "groupByTime": "",
                  "namespace": "metric",
                  "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_replicaset_status_ready_replicas`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\")",
                  "queryFuncs": [
                    {
                      "args": [],
                      "name": "series_sum"
                    }
                  ],
                  "type": "simple",
                  "withLabels": []
                },
                {
                  "alias": "",
                  "code": "B",
                  "dataSource": "prom_state_metrics",
                  "field": "kube_replicaset_spec_replicas",
                  "fieldFunc": "avg",
                  "fieldType": "",
                  "fill": null,
                  "fillNum": null,
                  "filters": [
                    {
                      "id": "7bc9f670-baf5-11ec-bd78-199fb50097dc",
                      "logic": "and",
                      "name": "cluster_name_k8s",
                      "op": "=",
                      "value": "#{cluster_name}"
                    },
                    {
                      "id": "7bc9f671-baf5-11ec-bd78-199fb50097dc",
                      "logic": "and",
                      "name": "namespace",
                      "op": "=",
                      "value": "#{namespace}"
                    }
                  ],
                  "groupBy": [
                    "replicaset"
                  ],
                  "groupByTime": "",
                  "namespace": "metric",
                  "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_replicaset_spec_replicas`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\")",
                  "queryFuncs": [
                    {
                      "args": [],
                      "name": "series_sum"
                    }
                  ],
                  "type": "simple",
                  "withLabels": []
                }
              ],
              "code": "A",
              "expression": "B-A",
              "funcList": [
                "last"
              ],
              "q": "eval(B-A, alias='副本 数量', A=\"SERIES_SUM(\\\"M::`prom_state_metrics`:(AVG(`kube_replicaset_status_ready_replicas`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\\\")\", B=\"SERIES_SUM(\\\"M::`prom_state_metrics`:(AVG(`kube_replicaset_spec_replicas`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\\\")\")",
              "type": "expression"
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "未就绪（Not Ready）",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 4,
          "y": 73
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "",
              "children": [
                {
                  "alias": "kube_replica_set",
                  "code": "A",
                  "dataSource": "prom_state_metrics",
                  "field": "kube_replicaset_status_ready_replicas",
                  "fieldFunc": "avg",
                  "fill": null,
                  "fillNum": null,
                  "filters": [
                    {
                      "logic": "and",
                      "name": "cluster_name_k8s",
                      "op": "=",
                      "value": "#{cluster_name}"
                    },
                    {
                      "logic": "and",
                      "name": "namespace",
                      "op": "=",
                      "value": "#{namespace}"
                    }
                  ],
                  "funcList": [],
                  "groupBy": [
                    "replicaset"
                  ],
                  "groupByTime": "",
                  "namespace": "metric",
                  "q": "M::`prom_state_metrics`:(AVG(`kube_replicaset_status_ready_replicas`) AS `kube_replica_set`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`",
                  "queryFuncs": [],
                  "type": "dql",
                  "withLabels": []
                },
                {
                  "alias": "kube_replica_set",
                  "code": "B",
                  "dataSource": "prom_state_metrics",
                  "field": "kube_replicaset_spec_replicas",
                  "fieldFunc": "avg",
                  "fill": null,
                  "fillNum": null,
                  "filters": [
                    {
                      "logic": "and",
                      "name": "cluster_name_k8s",
                      "op": "=",
                      "value": "#{cluster_name}"
                    },
                    {
                      "logic": "and",
                      "name": "namespace",
                      "op": "=",
                      "value": "#{namespace}"
                    }
                  ],
                  "funcList": [],
                  "groupBy": [
                    "replicaset"
                  ],
                  "groupByTime": "",
                  "namespace": "metric",
                  "q": "M::`prom_state_metrics`:(AVG(`kube_replicaset_spec_replicas`) AS `kube_replica_set`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`",
                  "queryFuncs": [],
                  "type": "dql",
                  "withLabels": []
                }
              ],
              "code": "B",
              "expression": "B-A",
              "funcList": [],
              "q": "eval(B-A, A=\"M::`prom_state_metrics`:(AVG(`kube_replicaset_status_ready_replicas`) AS `kube_replica_set`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\", B=\"M::`prom_state_metrics`:(AVG(`kube_replicaset_spec_replicas`) AS `kube_replica_set`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `replicaset`\")",
              "type": "expression"
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "settings": {
            "colors": [],
            "fixedTime": "",
            "isTimeInterval": false,
            "levels": [],
            "showFieldMapping": false,
            "showTitle": false,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "新建图表",
        "pos": {
          "h": 4,
          "w": 12,
          "x": 12,
          "y": 34
        },
        "queries": [
          {
            "name": "",
            "query": {
              "content": "> **Deployments**"
            }
          }
        ],
        "type": "text"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods desired",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 12,
          "y": 38
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_deployment_spec_replicas",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "77bd8400-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "77bd8401-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "deployment"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_deployment_spec_replicas`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `deployment`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "dql",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods desired",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 16,
          "y": 38
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "kube_deployment",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_deployment_spec_replicas",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "953eebe0-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "953eebe1-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "deployment"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(AVG(`kube_deployment_spec_replicas`) AS `kube_deployment`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `deployment`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods Available",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 12,
          "y": 48
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_deployment_status_replicas_available",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "5b6eda50-baf8-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "5b6eda51-baf8-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "deployment"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_deployment_status_replicas_available`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `deployment`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "simple",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods Available",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 16,
          "y": 48
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "kube_deployment",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_deployment_status_replicas_available",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "953eebe0-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "953eebe1-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "deployment"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(AVG(`kube_deployment_status_replicas_available`) AS `kube_deployment`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `deployment`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedTime": "",
          "settings": {
            "bgColor": "",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "singlestat",
            "downsample": "last",
            "fixedTime": "",
            "fontColor": "",
            "isTimeInterval": false,
            "levels": [],
            "lineColor": "#3AB8FF",
            "mappings": [],
            "openCompare": false,
            "precision": "2",
            "showFieldMapping": false,
            "showLine": false,
            "showLineAxis": false,
            "showTitle": true,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods Unavailable",
        "pos": {
          "h": 10,
          "w": 4,
          "x": 12,
          "y": 58
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_deployment_status_replicas_unavailable",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "5b6eda50-baf8-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "5b6eda51-baf8-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [
                "last"
              ],
              "groupBy": [
                "deployment"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "SERIES_SUM(\"M::`prom_state_metrics`:(AVG(`kube_deployment_status_replicas_unavailable`)) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `deployment`\")",
              "queryFuncs": [
                {
                  "args": [],
                  "name": "series_sum"
                }
              ],
              "type": "simple",
              "withLabels": []
            },
            "type": "singlestat",
            "unit": ""
          }
        ],
        "type": "singlestat"
      },
      {
        "extend": {
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "areaLine",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": true,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "Pods Unavailable",
        "pos": {
          "h": 10,
          "w": 8,
          "x": 16,
          "y": 58
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "kube_deployment",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_deployment_status_replicas_unavailable",
              "fieldFunc": "avg",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "953eebe0-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "953eebe1-baf7-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "deployment"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(AVG(`kube_deployment_status_replicas_unavailable`) AS `kube_deployment`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `deployment`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "fixedGroupByTime": null,
          "fixedTime": "",
          "isRefresh": true,
          "settings": {
            "alias": [],
            "chartType": "line",
            "colors": [],
            "compareTitle": "",
            "compareType": "",
            "currentChartType": "sequence",
            "density": "medium",
            "fixedTime": "",
            "isPercent": false,
            "isTimeInterval": true,
            "legendPostion": "none",
            "legendValues": "",
            "levels": [],
            "openCompare": false,
            "openStack": false,
            "showFieldMapping": false,
            "showLine": false,
            "showTitle": true,
            "stackType": "time",
            "timeInterval": "default",
            "titleDesc": "",
            "units": [],
            "xAxisShowType": "time"
          }
        },
        "group": {
          "name": null
        },
        "name": "Container states",
        "pos": {
          "h": 10,
          "w": 12,
          "x": 12,
          "y": 72
        },
        "queries": [
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "running",
              "code": "A",
              "dataSource": "prom_state_metrics",
              "field": "kube_pod_container_status_running",
              "fieldFunc": "sum",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "ce46a030-bafd-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "3d028e80-bafe-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "cluster_name_k8s"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(SUM(`kube_pod_container_status_running`) AS `running`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `cluster_name_k8s`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "waiting",
              "code": "B",
              "dataSource": "prom_state_metrics",
              "field": "kube_pod_container_status_waiting",
              "fieldFunc": "sum",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "cedd3ae0-bafd-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "4bfb9080-bafe-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "cluster_name_k8s"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(SUM(`kube_pod_container_status_waiting`) AS `waiting`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `cluster_name_k8s`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "terminated",
              "code": "C",
              "dataSource": "prom_state_metrics",
              "field": "kube_pod_container_status_terminated",
              "fieldFunc": "sum",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "cf76bbc0-bafd-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "52fcee10-bafe-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "cluster_name_k8s"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(SUM(`kube_pod_container_status_terminated`) AS `terminated`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `cluster_name_k8s`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          },
          {
            "color": "",
            "datasource": "dataflux",
            "name": "",
            "qtype": "dql",
            "query": {
              "alias": "ready",
              "code": "D",
              "dataSource": "prom_state_metrics",
              "field": "kube_pod_container_status_ready",
              "fieldFunc": "sum",
              "fieldType": "float",
              "fill": null,
              "fillNum": null,
              "filters": [
                {
                  "id": "d005b550-bafd-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "cluster_name_k8s",
                  "op": "=",
                  "value": "#{cluster_name}"
                },
                {
                  "id": "5cba1040-bafe-11ec-a431-d7b991f7c407",
                  "logic": "and",
                  "name": "namespace",
                  "op": "=",
                  "type": "",
                  "value": "#{namespace}"
                }
              ],
              "funcList": [],
              "groupBy": [
                "cluster_name_k8s"
              ],
              "groupByTime": "",
              "namespace": "metric",
              "q": "M::`prom_state_metrics`:(SUM(`kube_pod_container_status_ready`) AS `ready`) { `cluster_name_k8s` = '#{cluster_name}' and `namespace` = '#{namespace}' } BY `cluster_name_k8s`",
              "queryFuncs": [],
              "type": "simple",
              "withLabels": []
            },
            "type": "sequence",
            "unit": ""
          }
        ],
        "type": "sequence"
      },
      {
        "extend": {
          "settings": {
            "colors": [],
            "fixedTime": "",
            "isTimeInterval": false,
            "levels": [],
            "showFieldMapping": false,
            "showTitle": false,
            "timeInterval": "default",
            "titleDesc": "",
            "units": []
          }
        },
        "group": {
          "name": null
        },
        "name": "新建图表",
        "pos": {
          "h": 4,
          "w": 12,
          "x": 12,
          "y": 68
        },
        "queries": [
          {
            "name": "",
            "query": {
              "content": "> **Containers**"
            }
          }
        ],
        "type": "text"
      }
    ],
    "groups": [
      "集群基础设施"
    ],
    "type": "template",
    "vars": [
      {
        "code": "cluster_name",
        "datasource": "dataflux",
        "definition": {
          "defaultVal": {
            "label": "*",
            "value": "re(`.*`)"
          },
          "field": "",
          "metric": "",
          "object": "",
          "tag": "",
          "value": "show_tag_value(from=['kubernetes'], keyin=['cluster_name_k8s'])[5m]"
        },
        "hide": 0,
        "name": "集群名称",
        "seq": 0,
        "type": "QUERY",
        "valueSort": "default"
      },
      {
        "code": "namespace",
        "datasource": "dataflux",
        "definition": {
          "defaultVal": {
            "label": "*",
            "value": "re(`.*`)"
          },
          "field": "",
          "metric": "",
          "object": "",
          "tag": "",
          "value": "show_tag_value(from=['kubernetes'], keyin=['namespace']){cluster_name_k8s='#{cluster_name}'}[5m]"
        },
        "hide": 0,
        "name": "命名空间",
        "seq": 1,
        "type": "QUERY",
        "valueSort": "default"
      }
    ]
  },
  "summary": "",
  "tagInfo": [],
  "tags": [],
  "thumbnail": "",
  "title": "Kubernetes Overview with Kube State Metrics 监控视图"
}